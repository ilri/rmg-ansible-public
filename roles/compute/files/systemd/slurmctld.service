[Unit]
Description=Slurm controller daemon
After=network.target
ConditionPathExists=/etc/slurm/slurm.conf

[Service]
Type=forking
EnvironmentFile=/etc/default/slurmctld
ExecStartPre=/bin/mkdir -p /var/log/slurm
ExecStartPre=/bin/chown slurm:slurm /var/log/slurm
ExecStart=/usr/sbin/slurmctld $SLURMCTLD_OPTIONS
PIDFile=/var/run/slurmctld.pid

[Install]
WantedBy=multi-user.target
